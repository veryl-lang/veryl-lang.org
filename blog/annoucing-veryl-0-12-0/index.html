<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns#">
    <meta charset="UTF-8">
    <title>Announcing Veryl 0.12.0 |  </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <style>
    :root {
        /* Primary theme color */
        --primary-color: #2baa59;
        /* Primary theme text color */
        --primary-text-color: #543631;
        --primary-text-color-over: #000;
        /* Primary theme link color */
        --primary-link-color: #F9BB2D;
        /* Secondary color: the background body color */
        --secondary-color: #fcfaf6;
        --secondary-text-color: #303030;
        /* Highlight text color of table of content */
        --toc-highlight-text-color: #d46e13;
        --toc-background-color: white;

        --shadow-color: #ddd;

        /* Font used for headers (h1 & h2) */
        --header-font-family: "Fira Sans", sans-serif;
        /* Font used for text */
        --text-font-family: "Fira Sans", sans-serif;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --primary-color: #293831;
            --primary-text-color: #d7d7d7;
            --primary-text-color-over: #FFF;
            --primary-link-color: #9b9b9b;
            --secondary-color: #282828;
            --secondary-text-color: #f2f2f2;
            --toc-highlight-text-color: #f2f2f2;
            --toc-background-color: #3a3a3a;

            --shadow-color: #202020;
            --header-font-family: "Fira Sans", sans-serif;

            --text-font-family: "Fira Sans", sans-serif;

        }
    }
</style>

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="https://veryl-lang.org/juice.css">
    <!-- Juice references /normalize.css, which doesn't work, so we reference ./normalics.css here -->
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NXW2P6CCF3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-NXW2P6CCF3');
    </script>
    
<meta property="og:url" content="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/" />
<meta property="og:title" content="Announcing Veryl 0.12.0" />
<meta property="og:description" content="The Veryl team has published a new release of Veryl, 0.12.0.
Veryl is a new hardware descr…" />
<meta property="og:image" content="https://github.com/veryl-lang/veryl/raw/master/support/logo/veryl_ogp.png" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:domain" content="veryl-lang.org" />
<meta name="twitter:title" content="Announcing Veryl 0.12.0" />
<meta name="twitter:description" content="The Veryl team has published a new release of Veryl, 0.12.0.
Veryl is a new hardware descr…" />
<meta name="twitter:image" content="https://github.com/veryl-lang/veryl/raw/master/support/logo/veryl_ogp.png" />

</head>

<body>
    
<header class="box-shadow">
    

<a href="https://veryl-lang.org/">
    <div class="logo">
        <img src="https://veryl-lang.org/logo.png" alt="logo">
        
    </div>
</a>

<nav>
    
    
    
    <a class="nav-item subtitle-text" href="https://veryl-lang.org/install/">Install</a>
    
    
    
    
    <a class="nav-item subtitle-text" href="https://veryl-lang.org/docs/">Docs</a>
    
    
    
    
    <a class="nav-item subtitle-text" href="https://veryl-lang.org/statistics/">Statistics</a>
    
    
    
    
    <a class="nav-item subtitle-text" href="https://veryl-lang.org/blog/">Blog</a>
    
    
        
        <a class="nav-item subtitle-text" href="https://doc.veryl-lang.org/playground">Playground</a>
        
    
    
        
        <a class="nav-item subtitle-text" href="https://github.com/veryl-lang/veryl"><img src="https://veryl-lang.org/github-mark-white.png" alt="icon" height="20"></a>
        
        <a class="nav-item subtitle-text" href="https://discord.gg/MJZr9NufTT"><img src="https://veryl-lang.org/Discord-Symbol-White.png" alt="icon" height="20"></a>
        
    
</nav>

</header>


    <main>
        




<div class="toc">
    <div class="toc-sticky">
        
        <div class="toc-item">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#breaking-changes">Breaking Changes</a>
        </div>
        
        
        <div class="toc-item-child">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#forbid-continuous-casting"><small>- Forbid continuous casting </small></a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#change-symbol-of-clock-domain-annotation"><small>- Change symbol of clock domain annotation </small></a>
        </div>
        
        
        
        <div class="toc-item">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#new-features">New Features</a>
        </div>
        
        
        <div class="toc-item-child">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#expand-inside-operation"><small>- Expand inside operation </small></a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#waveform-dump-support-through-veryl-test-wave"><small>- Waveform dump support through veryl test --wave </small></a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#cocotb-support-for-integrated-test"><small>- Cocotb support for integrated test </small></a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#embed-standard-library-into-compiler"><small>- Embed standard library into compiler </small></a>
        </div>
        
        
        
        <div class="toc-item">
            <a class="subtext" href="https://veryl-lang.org/blog/annoucing-veryl-0-12-0/#other-changes">Other Changes</a>
        </div>
        
        
    </div>
</div>



        <div class="content text">
            
<div class="heading-text">Announcing Veryl 0.12.0</div>
<p>The Veryl team has published a new release of Veryl, 0.12.0.
Veryl is a new hardware description language as an alternate to SystemVerilog.</p>
<p>The latest version of Veryl can be downloaded from <a href="https://github.com/veryl-lang/veryl/releases/latest">release page</a>.</p>
<h1 id="breaking-changes">Breaking Changes</h1>
<h2 id="forbid-continuous-casting">Forbid continuous casting <a style="font-size: 0.8em" href="https:&#x2F;&#x2F;github.com&#x2F;veryl-lang&#x2F;veryl/pull/887">#887</a>
</h2>
<p>Until Veryl 0.12.0, casting by <code>as</code> could be continuous, but it is forbidden by Veryl 0.12.0.
If continuous casting is required, it can be achieved by inserting <code>()</code>.</p>
<pre data-lang="veryl" style="background-color:#393939;color:#dedede;" class="language-veryl "><code class="language-veryl" data-lang="veryl"><span style="color:#a0cfa1;">//</span><span style="color:#87ae86;"> Syntax error
</span><span style="color:#fed6af;">assign </span><span>a = x </span><span style="color:#fed6af;">as </span><span style="color:#fffb9d;">u32 </span><span style="color:#fed6af;">as </span><span style="color:#fffb9d;">i32</span><span>;
</span><span style="color:#a0cfa1;">//</span><span style="color:#87ae86;"> OK
</span><span style="color:#fed6af;">assign </span><span>a = (x </span><span style="color:#fed6af;">as </span><span style="color:#fffb9d;">u32</span><span>) </span><span style="color:#fed6af;">as </span><span style="color:#fffb9d;">i32</span><span>;
</span></code></pre>
<h2 id="change-symbol-of-clock-domain-annotation">Change symbol of clock domain annotation <a style="font-size: 0.8em" href="https:&#x2F;&#x2F;github.com&#x2F;veryl-lang&#x2F;veryl/pull/883">#883</a>
</h2>
<p>Until Veryl 0.12.0, clock domain annotation used single quotation mark like <code>'x</code>.
Veryl 0.12.0 changes it to backtick mark like <code>`x</code>.</p>
<pre data-lang="veryl" style="background-color:#393939;color:#dedede;" class="language-veryl "><code class="language-veryl" data-lang="veryl"><span style="color:#a0cfa1;">//</span><span style="color:#87ae86;"> Syntax error
</span><span style="color:#fed6af;">var </span><span>a: &#39;x </span><span style="color:#fffb9d;">clock</span><span>;
</span><span style="color:#a0cfa1;">//</span><span style="color:#87ae86;"> OK
</span><span style="color:#fed6af;">var </span><span>a: </span><span style="font-weight:bold;color:#d6d6ae;">`x </span><span style="color:#fffb9d;">clock</span><span>;
</span></code></pre>
<h1 id="new-features">New Features</h1>
<h2 id="expand-inside-operation">Expand <code>inside</code> operation <a style="font-size: 0.8em" href="https:&#x2F;&#x2F;github.com&#x2F;veryl-lang&#x2F;veryl/pull/873">#873</a>
</h2>
<p>Some EDA tools doesn't support <code>inside</code> operation.
For these tools, <code>expand_inside_operation</code> configuration of <code>Veryl.toml</code> can be used like below:</p>
<pre data-lang="toml" style="background-color:#393939;color:#dedede;" class="language-toml "><code class="language-toml" data-lang="toml"><span>[build]
</span><span style="color:#d6d7af;">expand_inside_operation </span><span>= </span><span style="font-weight:bold;color:#d6d6ae;">true
</span></code></pre>
<p>If the configuration is enabled, <code>inside</code> operations in the generated SystemVerilog are expanded like below:</p>
<ul>
<li>Default</li>
</ul>
<pre data-lang="veryl" style="background-color:#393939;color:#dedede;" class="language-veryl "><code class="language-veryl" data-lang="veryl"><span style="color:#fed6af;">assign </span><span>a = ((1 + 2 / 3) </span><span style="color:#fed6af;">inside</span><span> {0, 0..10, 1..=10});
</span></code></pre>
<ul>
<li>Expand</li>
</ul>
<pre data-lang="veryl" style="background-color:#393939;color:#dedede;" class="language-veryl "><code class="language-veryl" data-lang="veryl"><span style="color:#fed6af;">assign </span><span>a = ((1 + 2 / 3) ==? 0) ||
</span><span>           ((1 + 2 / 3) &gt;= 0 &amp;&amp; (1 + 2 / 3) &lt; 10) ||
</span><span>           ((1 + 2 / 3) &gt;= 0 &amp;&amp; (1 + 2 / 3) &lt;= 10);
</span></code></pre>
<h2 id="waveform-dump-support-through-veryl-test-wave">Waveform dump support through <code>veryl test --wave</code> <a style="font-size: 0.8em" href="https:&#x2F;&#x2F;github.com&#x2F;veryl-lang&#x2F;veryl/pull/898">#898</a>
</h2>
<p>Waveform dump in integrated test is supported.
If <code>--wave</code> option is specified at <code>veryl test</code>, <code>[test name].vcd</code> files are generated.
The generation place is the same as generated SystemVerilog code by default.
It can be configured through <code>waveform_target</code> in <code>Veryl.toml</code>.</p>
<pre data-lang="toml" style="background-color:#393939;color:#dedede;" class="language-toml "><code class="language-toml" data-lang="toml"><span>[test]
</span><span style="color:#d6d7af;">waveform_target </span><span>= {</span><span style="color:#d6d7af;">type </span><span>= </span><span style="color:#d6d6d680;">&quot;</span><span style="color:#d68686;">directory</span><span style="color:#d6d6d680;">&quot;</span><span>, </span><span style="color:#d6d7af;">path </span><span>= </span><span style="color:#d6d6d680;">&quot;</span><span style="color:#d68686;">[dst dir]</span><span style="color:#d6d6d680;">&quot;</span><span>}
</span></code></pre>
<h2 id="cocotb-support-for-integrated-test">Cocotb support for integrated test <a style="font-size: 0.8em" href="https:&#x2F;&#x2F;github.com&#x2F;veryl-lang&#x2F;veryl/pull/899">#899</a>
</h2>
<p>As the way of <code>embed</code> and language specifier, <code>cocotb</code> and <code>py</code> are supported now.
If <code>cocotb</code> is specified, the embeded code are interpreted as cocotb code and executed through external Python3 environment.
cocotb requires to specify the name of top module, so it should be specified through the second argument of <code>#[test]</code> attribute.</p>
<p>To use this feature, <code>python3</code> environment in which <code>cocotb</code> 1.9.0 is installed is required.</p>
<pre data-lang="veryl" style="background-color:#393939;color:#dedede;" class="language-veryl "><code class="language-veryl" data-lang="veryl"><span>#[test(test1, ModuleA)]
</span><span style="color:#fed6af;">embed</span><span> (cocotb) py{{{
</span><span style="color:#fed6af;">import </span><span>cocotb
</span><span>
</span><span>@cocotb.test()
</span><span>async def test(dut):
</span><span>    dut.i_d.value = 0
</span><span>}}}
</span><span>
</span></code></pre>
<h2 id="embed-standard-library-into-compiler">Embed standard library into compiler <a style="font-size: 0.8em" href="https:&#x2F;&#x2F;github.com&#x2F;veryl-lang&#x2F;veryl/pull/878">#878</a>
</h2>
<p>Standard library is embeded into Veryl compiler, and it can be used through <code>std</code> namespace.
For example, <code>std::fifo</code> is FIFO module in standard library, and can be used without adding dependency like below.
All list and documentation is <a href="https://std.veryl-lang.org">https://std.veryl-lang.org</a>.</p>
<pre data-lang="veryl" style="background-color:#393939;color:#dedede;" class="language-veryl "><code class="language-veryl" data-lang="veryl"><span style="color:#fed6af;">module </span><span>ModuleA {
</span><span>    </span><span style="color:#fed6af;">inst </span><span>u: std::fifo (
</span><span>        i_clk        : _,
</span><span>        i_rst        : _,
</span><span>        i_clear      : _,
</span><span>        o_empty      : _,
</span><span>        o_almost_full: _,
</span><span>        o_full       : _,
</span><span>        o_word_count : _,
</span><span>        i_push       : _,
</span><span>        i_data       : _,
</span><span>        i_pop        : _,
</span><span>        o_data       : _,
</span><span>    );
</span><span>}
</span></code></pre>
<p>The public API of standard library is not stable until Veryl 1.0.
If there is any idea or suggestion, please open issue or pull request at <a href="https://github.com/veryl-lang/std">https://github.com/veryl-lang/std</a>.</p>
<h1 id="other-changes">Other Changes</h1>
<p>Check out everything that changed in <a href="https://github.com/veryl-lang/veryl/releases/tag/v0.12.0">Release v0.12.0</a>.</p>


        </div>

        
        
    </main>

    
    <footer>
    </footer>
    
</body>
<script>
    const scrollHandler = entries => {
        // Find the first entry which intersecting and ratio > 0.9 to highlight.
        let entry = entries.find(entry => {
            return entry.isIntersecting && entry.intersectionRatio > 0.9;
        });
        if (!entry) return;

        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });

        // let url = new URL(`#${entry.target.id}`);
        let link = document.querySelector(`.toc a[href$="${decodeURIComponent(`#${entry.target.id}`)}"]`)
        if (link) {
            link.classList.add("active");
            link.scrollIntoView({ behavior: "auto", block: "nearest" });
        }
    };
    // Set -100px root margin to improve highlight experience.
    const observer = new IntersectionObserver(scrollHandler, { threshold: 1 });
    let items = document.querySelectorAll('h1,h2,h3,h4,h5,h6');
    items.forEach(item => observer.observe(item));
</script>

</html>
